<!DOCTYPE html>
<html>
<head>
  <title>Fishcart - Order Fresh Fish</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4fcff;
      padding: 20px;
      text-align: center;
    }

    h1 {
      color: #0077cc;
    }

    .fish-item {
      margin: 10px 0;
    }

    .btn {
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      display: inline-block;
      margin-top: 20px;
    }

    input[type="number"] {
      width: 60px;
      margin-left: 10px;
    }

    select.unit {
      margin-left: 5px;
    }
  </style>
</head>
<body>

  <h1>Fishcart – Order Fresh Fish</h1>
  <p>Select fish and enter quantity in gram or kg:</p>

  <form id="fishForm">

    <div class="fish-item">
      <input type="checkbox" id="surmai" name="fish" value="Surmai" data-price="800">
      <label for="surmai">Surmai – ₹800/kg</label>
      <input type="number" min="1" placeholder="qty" id="qty-surmai">
      <select class="unit" id="unit-surmai">
        <option value="kg">kg</option>
        <option value="g">g</option>
      </select>
    </div>

    <div class="fish-item">
      <input type="checkbox" id="kolambi" name="fish" value="Kolambi" data-price="650">
      <label for="kolambi">Kolambi – ₹650/kg</label>
      <input type="number" min="1" placeholder="qty" id="qty-kolambi">
      <select class="unit" id="unit-kolambi">
        <option value="kg">kg</option>
        <option value="g">g</option>
      </select>
    </div>

    <div class="fish-item">
      <input type="checkbox" id="bombil" name="fish" value="Bombil" data-price="200">
      <label for="bombil">Bombil – ₹200/kg</label>
      <input type="number" min="1" placeholder="qty" id="qty-bombil">
      <select class="unit" id="unit-bombil">
        <option value="kg">kg</option>
        <option value="g">g</option>
      </select>
    </div>

    <div class="fish-item">
      <input type="checkbox" id="bangda" name="fish" value="Bangda" data-price="300">
      <label for="bangda">Bangda – ₹300/kg</label>
      <input type="number" min="1" placeholder="qty" id="qty-bangda">
      <select class="unit" id="unit-bangda">
        <option value="kg">kg</option>
        <option value="g">g</option>
      </select>
    </div>

    <a id="orderBtn" class="btn" target="_blank">Order on WhatsApp</a>
  </form>

  <script>
    document.getElementById("orderBtn").addEventListener("click", function () {
      const selectedFish = document.querySelectorAll('input[name="fish"]:checked');
      if (selectedFish.length === 0) return alert("Please select at least one fish.");

      let message = "Hello, I would like to order:\n";
      let total = 0;

      selectedFish.forEach(fish => {
        const name = fish.value;
        const price = parseFloat(fish.getAttribute("data-price"));
        const qtyInput = document.getElementById("qty-" + name.toLowerCase());
        const unitSelect = document.getElementById("unit-" + name.toLowerCase());

        const rawQty = parseFloat(qtyInput.value);
        const unit = unitSelect.value;

        if (!rawQty || rawQty <= 0) return;

        let qtyInKg = unit === "g" ? rawQty / 1000 : rawQty;
        const subtotal = price * qtyInKg;
        total += subtotal;

        message += `${rawQty}${unit} of ${name} = ₹${subtotal.toFixed(2)}\n`;
      });

      message += `\nTotal Price: ₹${total.toFixed(2)}`;
      const whatsappURL = `https://wa.me/919664239863?text=${encodeURIComponent(message)}`;
      this.href = whatsappURL;
    });
  </script>

</body>
</html>
